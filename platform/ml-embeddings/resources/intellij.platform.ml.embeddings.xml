<idea-plugin package="com.intellij.platform.ml.embeddings">
  <resource-bundle>messages.EmbeddingsBundle</resource-bundle>

  <extensions defaultExtensionNs="com.intellij">
    <notificationGroup id="Embedding-based search" displayType="STICKY_BALLOON"
                       bundle="messages.EmbeddingsBundle"
                       key="ml.embeddings.notification.group.name"/>

    <registryKey defaultValue="0.0.5"
                 description="Embeddings models version"
                 key="intellij.platform.ml.embeddings.model.version"/>

    <registryKey defaultValue="2.0.139"
                 description="Embeddings native server version"
                 key="intellij.platform.ml.embeddings.server.version"/>

    <registryKey
      defaultValue="true"
      description="Use embedding indexing per-project files limit"
      key="intellij.platform.ml.embeddings.index.files.use.limit"/>

    <registryKey
      defaultValue="100000"
      description="Embedding indexing per-project files limit"
      key="intellij.platform.ml.embeddings.index.files.limit"/>

    <registryKey
      defaultValue="true"
      description="Use embedding indexing per-application memory limit"
      key="intellij.platform.ml.embeddings.index.use.memory.limit"/>

    <registryKey
      defaultValue="120"
      description="Embedding indexing per-application memory limit (MB)"
      key="intellij.platform.ml.embeddings.index.memory.limit"/>

    <statistics.counterUsagesCollector
      implementationClass="com.intellij.platform.ml.embeddings.logging.EmbeddingSearchLogger"/>
  </extensions>

  <extensionPoints>
    <extensionPoint qualifiedName="com.intellij.platform.ml.embeddings.indexPersistedEventsCounter"
                    interface="com.intellij.platform.ml.embeddings.services.IndexPersistedEventsCounter"
                    dynamic="true"
                    area="IDEA_PROJECT"/>
  </extensionPoints>

</idea-plugin>