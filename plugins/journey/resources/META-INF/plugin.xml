<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude" package="org.jetbrains.intellij.plugins.journey">
  <name>Journey</name>
  <category>Other Tools</category>
  <id>org.jetbrains.plugins.journey</id>
  <vendor>JetBrains</vendor>
  <description><![CDATA[
<p>Provides a new way of code discovery and debugging
]]></description>

  <dependencies>
    <plugin id="com.intellij.java"/>
    <plugin id="com.intellij.modules.lang"/>
    <plugin id="com.intellij.modules.platform"/>
    <plugin id="com.intellij.diagram"/>
  </dependencies>

  <resource-bundle>messages.JourneyBundle</resource-bundle>
  <!--<xi:include href="/META-INF/journey.xml" xpointer="xpointer(/idea-plugin/*)"/>-->

  <actions>
    <group id="JourneyAction" searchable="false">
      <action id="JourneyToggleAction" class="org.jetbrains.intellij.plugins.journey.actions.JourneyToggleAction"/>
    </group>
    <action id="org.jetbrains.intellij.plugins.journey.actions.OpenInEditorAction"
            class="org.jetbrains.intellij.plugins.journey.actions.OpenInEditorAction"
            text="Jump To Source"
    >
      <keyboard-shortcut first-keystroke="F4" keymap="$default"/>
    </action>
    <action id="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoDeclarationAction"
            class="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoDeclarationAction"
            text="Go To Declaration"
    >
      <keyboard-shortcut first-keystroke="ctrl P" keymap="$default"/>
      <keyboard-shortcut first-keystroke="meta P" keymap="Mac OS X"/>
      <keyboard-shortcut first-keystroke="meta P" keymap="Mac OS X 10.5+"/>
    </action>
    <action id="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoUsagesAction"
            class="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoUsagesAction"
            text="Go To Usages Or Declaration"
    >
      <keyboard-shortcut first-keystroke="ctrl O" keymap="$default"/>
      <keyboard-shortcut first-keystroke="meta O" keymap="Mac OS X"/>
      <keyboard-shortcut first-keystroke="meta O" keymap="Mac OS X 10.5+"/>
    </action>
    <action id="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoSuperAction"
            class="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoSuperAction"
            text="Go To Super">
      <keyboard-shortcut first-keystroke="ctrl U" keymap="$default"/>
      <keyboard-shortcut first-keystroke="meta U" keymap="Mac OS X"/>
      <keyboard-shortcut first-keystroke="meta U" keymap="Mac OS X 10.5+"/>
    </action>
    <action id="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoImplementationAction"
            class="org.jetbrains.intellij.plugins.journey.actions.JourneyGotoImplementationAction"
            text="Go To Implementation">
      <keyboard-shortcut first-keystroke="ctrl alt B" keymap="$default"/>
      <keyboard-shortcut first-keystroke="meta alt B" keymap="Mac OS X"/>
      <keyboard-shortcut first-keystroke="meta alt B" keymap="Mac OS X 10.5+"/>
    </action>
    <action id="org.jetbrains.intellij.plugins.journey.actions.JourneyGoToDeclarationOrUsagesAction"
            class="org.jetbrains.intellij.plugins.journey.actions.JourneyGoToDeclarationOrUsagesAction" text="Go To Declaration Or Usages">
      <keyboard-shortcut first-keystroke="ctrl B" keymap="$default"/>
      <keyboard-shortcut first-keystroke="meta B" keymap="Mac OS X"/>
      <keyboard-shortcut first-keystroke="meta B" keymap="Mac OS X 10.5+"/>
    </action>
  </actions>

  <extensions defaultExtensionNs="com.intellij">
    <diagram.Provider implementation="org.jetbrains.intellij.plugins.journey.diagram.JourneyDiagramProvider"/>

    <intentionAction>
      <language>UAST</language>
      <className>org.jetbrains.intellij.plugins.journey.actions.StartJourneyIntentionAction</className>
      <skipBeforeAfter>true</skipBeforeAfter>
    </intentionAction>

    <intentionAction>
      <language>UAST</language>
      <className>org.jetbrains.intellij.plugins.journey.actions.AddToJourneyIntentionAction</className>
      <skipBeforeAfter>true</skipBeforeAfter>
    </intentionAction>

    <registryKey key="ide.journey.enabled" defaultValue="false"
                 description="Enable Journey plugin features"/>
  </extensions>

</idea-plugin>
